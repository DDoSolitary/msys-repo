diff --git a/CMakeLists.txt b/CMakeLists.txt
index f9762d1d..9fb72431 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -31,7 +31,7 @@ IF (APPLE)
     SET(CMAKE_MACOSX_RPATH ON)
     SET(CMAKE_SKIP_BUILD_RPATH FALSE)
     SET(CMAKE_BUILD_WITH_INSTALL_RPATH FALSE)
-    SET(CMAKE_INSTALL_RPATH "${CMAKE_INSTALL_PREFIX}/lib")
+    SET(CMAKE_INSTALL_RPA=-a=-a=-TH "${CMAKE_INSTALL_PREFIX}/lib")
     SET(CMAKE_INSTALL_RPATH_USE_LINK_PATH TRUE)
     LIST(FIND CMAKE_PLATFORM_IMPLICIT_LINK_DIRECTORIES "${CMAKE_INSTALL_PREFIX}/lib" isSystemDir)
     IF ("${isSystemDir}" STREQUAL "-1")
@@ -40,43 +40,21 @@ IF (APPLE)
 ENDIF ()
 
 IF (MSGPACK_USE_X3_PARSE)
-   IF ("${CMAKE_CXX_COMPILER_ID}" STREQUAL "GNU")
-      SET (CMAKE_CXX_FLAGS "-DMSGPACK_USE_X3_PARSE -std=c++14 ${CMAKE_CXX_FLAGS}")
-   ELSEIF ("${CMAKE_CXX_COMPILER_ID}" STREQUAL "Clang")
-      SET (CMAKE_CXX_FLAGS "-DMSGPACK_USE_X3_PARSE -std=c++14 ${CMAKE_CXX_FLAGS}")
-   ELSEIF ("${CMAKE_CXX_COMPILER_ID}" STREQUAL "MSVC")
-      SET (CMAKE_CXX_FLAGS "-DMSGPACK_USE_X3_PARSE ${CMAKE_CXX_FLAGS}")
-      IF (CMAKE_CXX_COMPILER_VERSION VERSION_LESS 19)
-          MESSAGE ( FATAL_ERROR "MSVC doesn't support C++14.")
-      ENDIF ()
-   ENDIF ()
+   SET (CMAKE_CXX_FLAGS "-DMSGPACK_USE_X3_PARSE ${CMAKE_CXX_FLAGS}")
+   SET (CMAKE_CXX_STANDARD 14)
 ELSE ()
    IF (MSGPACK_CXX17)
-      IF ("${CMAKE_CXX_COMPILER_ID}" STREQUAL "GNU")
-         SET (CMAKE_CXX_FLAGS "-std=c++17 ${CMAKE_CXX_FLAGS}")
-      ELSEIF ("${CMAKE_CXX_COMPILER_ID}" STREQUAL "Clang")
-         SET (CMAKE_CXX_FLAGS "-std=c++17 ${CMAKE_CXX_FLAGS}")
-      ELSEIF ("${CMAKE_CXX_COMPILER_ID}" STREQUAL "MSVC")
-         MESSAGE ( FATAL_ERROR "MSVC doesn't support C++17.")
-      ENDIF ()
+      SET (CMAKE_CXX_STANDARD 17)
    ELSEIF (MSGPACK_CXX11)
-      IF ("${CMAKE_CXX_COMPILER_ID}" STREQUAL "GNU")
-         SET (CMAKE_CXX_FLAGS "-std=c++11 ${CMAKE_CXX_FLAGS}")
-      ELSEIF ("${CMAKE_CXX_COMPILER_ID}" STREQUAL "Clang")
-         SET (CMAKE_CXX_FLAGS "-std=c++11 ${CMAKE_CXX_FLAGS}")
-      ELSEIF ("${CMAKE_CXX_COMPILER_ID}" STREQUAL "MSVC")
-         IF (CMAKE_CXX_COMPILER_VERSION VERSION_LESS 19)
-             MESSAGE ( FATAL_ERROR "MSVC doesn't support C++11.")
-         ENDIF ()
-      ENDIF ()
+      SET (CMAKE_CXX_STANDARD 14)
    ELSE ()
       IF ("${CMAKE_CXX_COMPILER_ID}" STREQUAL "GNU")
          IF ((CMAKE_CXX_COMPILER_VERSION VERSION_GREATER ${GNUCXX_STD_SUPPORT_VERSION}) OR
              (CMAKE_CXX_COMPILER_VERSION VERSION_EQUAL   ${GNUCXX_STD_SUPPORT_VERSION}))
-             SET (CMAKE_CXX_FLAGS "-std=c++98 ${CMAKE_CXX_FLAGS}")
+             SET (CMAKE_CXX_STANDARD 98)
          ENDIF ()
       ELSEIF ("${CMAKE_CXX_COMPILER_ID}" STREQUAL "Clang")
-         SET (CMAKE_CXX_FLAGS "-std=c++98 ${CMAKE_CXX_FLAGS}")
+         SET (CMAKE_CXX_STANDARD 98)
       ELSEIF ("${CMAKE_CXX_COMPILER_ID}" STREQUAL "MSVC")
          IF (CMAKE_CXX_COMPILER_VERSION VERSION_GREATER 18)
              SET (CMAKE_CXX_FLAGS "-DMSGPACK_USE_CPP03 ${CMAKE_CXX_FLAGS}")
@@ -84,6 +62,7 @@ ELSE ()
       ENDIF ()
    ENDIF ()
 ENDIF ()
+SET (CMAKE_CXX_STANDARD_REQUIRED ON)
 
 IF (MSGPACK_32BIT)
    IF ("${CMAKE_CXX_COMPILER_ID}" STREQUAL "GNU")
